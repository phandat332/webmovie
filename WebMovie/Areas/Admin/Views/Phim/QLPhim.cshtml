@using PagedList;
@using PagedList.Mvc;
@model PagedList.PagedList<WebMovie.Models.PHIM>
@{
    ViewBag.Title = "QLPhim";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
<link href="~/Content/Admin/vendor/bootstrap/css/bootstrap.css" rel="stylesheet" />
<div class="form-horizontal">
    <h2>Quản lý phim</h2>
</div>

<div class="x_panel">
    <div class="x_title">
        <a href="@Url.Action("Themphim", "Phim")" class="btn btn-default" style="margin-bottom: 8px; color: white; background-color: rebeccapurple; ">
            <i class="fa-pie-circle"></i> Thêm phim
        </a>
        <div class="clearfix"></div>
    </div>
    <div class="x_content">
        <p></p>
        <div class="table-responsive">
            <table class="table table-striped jambo_table bulk_action">
                <thead>
                    <tr class="headings">
                        <th>
                            <div class="icheckbox_flat-green" style="position: relative;"><input type="checkbox" id="check-all" class="flat" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
                        </th>
                        <th class="column-title">Tên phim </th>
                        <th class="column-title">Anh bia </th>
                        <th class="column-title">Đạo diễn </th>
                       @* <th class="column-title">diễn viên </th>*@
                        <th class="column-title">Thể loại </th>
                        <th class="column-title">Quốc gia </th>
                        <th class="column-title">Ngôn ngữ </th>
                        <th class="column-title">Thời lượng </th>
                        <th class="column-title">Năm sản xuất </th>
                        <th class="column-title">phim bộ </th>
                        <th class="column-title">phần thứ </th>
                        <th class="column-title">tập số </th>
                        <th class="column-title">Nội dung </th>
                        <th class="column-title no-link last">
                            <span class="nobr">Chức năng</span>
                        </th>
                        <th class="bulk-actions" colspan="7">
                            <a class="antoo" style="color:#fff; font-weight:500;">Bulk Actions ( <span class="action-cnt"> </span> ) <i class="fa fa-chevron-down"></i></a>
                        </th>
                    </tr>
                </thead>
                <tbody>

                   @foreach(var item in Model)
                    {
                        <tr class="odd pointer">
                            <td class="a-center ">
                                <div class="icheckbox_flat-green" style="position: relative;"><input type="checkbox" class="flat" name="table_records" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.TenPhim)
                            </td>
                            <td>
                                <img  src="~/image/@item.Anhbia" style="width:100px"/>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Daodien)
                            </td>

                           @* <td>
                                @Html.DisplayFor(modelItem => item.Dienvien)
                            </td>*@
                          
                        <td>

                            @foreach (var tl in ViewBag.Theloai)
                            {
                                if (tl.Phim.Maphim == item.Maphim)
                                {
                                    <span>@tl.TenTheLoai</span>
                                }
                            }
                        </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.QUOCGIA.TenQG)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Ngonngu)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Thoiluong)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.NAMPHATHANH.Nam)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Phimbo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Phanphim)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Tapphim)
                            </td>
                           <td>
                               @Html.DisplayFor(modelItem => item.Noidung)
                                
                            </td>
                            <td>
                                <a href="@Url.Action("Chitietphim","Phim",new { id = item.Maphim})" class="btn btn-primary btn-xs"><i class="fa fa-folder"></i> View </a>
                                <a href="@Url.Action("Suaphim","Phim",new { id = item.Maphim})" class="btn btn-info btn-xs"><i class="fa fa-pencil"></i> Edit </a>
                                <a href="@Url.Action("Xoaphim","Phim",new { id = item.Maphim})" class="btn btn-danger btn-xs"><i class="fa fa-trash-o"></i> Delete </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="d-flex justify-content-center">
    @Html.PagedListPager(Model, page => Url.Action("QLPhim", new { page = page }), new PagedListRenderOptions { LiElementClasses = new string[] { "page-item btn btn-sm btn-primary mx-1" } })
</div>

